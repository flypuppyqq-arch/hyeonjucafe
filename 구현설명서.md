# 현주카페 예약 시스템 구현 설명서

이 문서는 비개발자도 쉽게 따라할 수 있도록 작성된 상세한 구현 가이드입니다.

## 목차
1. [프로젝트 개요](#프로젝트-개요)
2. [필요한 파일 목록](#필요한-파일-목록)
3. [Google Sheets 설정](#google-sheets-설정)
4. [Google Apps Script 설정](#google-apps-script-설정)
5. [웹사이트 파일 설정](#웹사이트-파일-설정)
6. [웹사이트 배포](#웹사이트-배포)
7. [사용 방법](#사용-방법)
8. [문제 해결](#문제-해결)

---

## 프로젝트 개요

현주카페 예약 시스템은 사내 직원들이 카페를 예약할 수 있는 웹사이트입니다.

**주요 기능:**
- 카페 소개 및 정보 표시
- 날짜와 시간 선택하여 예약
- Google Sheets에 예약 정보 자동 저장
- 예약 확인 이메일 자동 발송

**사용 기술:**
- HTML, CSS, JavaScript (웹사이트)
- Google Sheets (데이터베이스)
- Google Apps Script (백엔드)

---

## 필요한 파일 목록

프로젝트에는 다음 파일들이 포함되어 있습니다:

```
현주카페/
├── index.html          # 웹사이트 메인 페이지
├── styles.css          # 디자인 스타일
├── script.js           # 예약 기능 코드
├── appsscript.gs       # Google Apps Script 코드
├── 구현설명서.md       # 이 문서
└── 요구사항.md         # 프로젝트 요구사항
```

---

## Google Sheets 설정

### 1단계: Google Sheets 생성

1. 웹 브라우저에서 [Google Sheets](https://sheets.google.com)에 접속합니다
2. 새 스프레드시트를 만듭니다 (+ 새로 만들기 버튼 클릭)
3. 스프레드시트 이름을 "현주카페 예약목록"으로 변경합니다

### 2단계: 시트 준비

1. 첫 번째 시트의 이름을 "예약목록"으로 변경합니다
   - 시트 탭을 더블클릭하여 이름을 변경할 수 있습니다
2. 이 시트에는 예약 데이터가 자동으로 저장됩니다

> **참고:** 헤더(제목 행)는 Apps Script가 자동으로 생성하므로 직접 입력하지 않아도 됩니다.

---

## Google Apps Script 설정

### 1단계: Apps Script 편집기 열기

1. Google Sheets를 열어둔 상태에서 상단 메뉴에서 **확장 프로그램 > Apps Script**를 클릭합니다
2. 새 탭에서 Apps Script 편집기가 열립니다

### 2단계: 코드 입력

1. 편집기에 기본으로 있는 코드를 모두 삭제합니다
2. `appsscript.gs` 파일의 내용을 전체 복사하여 붙여넣습니다
3. 코드 상단의 `SHEET_NAME` 변수를 확인합니다:
   ```javascript
   const SHEET_NAME = '예약목록';
   ```
   - 이 이름이 Google Sheets의 시트 이름과 일치해야 합니다

### 3단계: 프로젝트 저장

1. 상단의 **디스크 아이콘** 또는 `Ctrl + S` (Mac: `Cmd + S`)를 눌러 저장합니다
2. 프로젝트 이름을 "현주카페 예약 시스템"으로 입력합니다

### 4단계: 웹 앱으로 배포

1. 상단 메뉴에서 **배포 > 새 배포**를 클릭합니다
2. "유형 선택" 옆의 **톱니바퀴 아이콘**을 클릭합니다
3. **웹 앱**을 선택합니다
4. 다음과 같이 설정합니다:
   - **설명**: "현주카페 예약 시스템 v1.0" (원하는 설명 입력)
   - **다음 사용자로 실행**: "나" 선택
   - **액세스 권한**: "모든 사용자" 선택
5. **배포** 버튼을 클릭합니다
6. 권한 승인 창이 나타나면:
   - **액세스 권한 부여**를 클릭합니다
   - Google 계정을 선택합니다
   - "Google에서 확인하지 않은 앱입니다" 경고가 나타나면 **고급 > (프로젝트 이름)으로 이동** 클릭
   - **허용** 버튼을 클릭합니다

### 5단계: 웹 앱 URL 복사

1. 배포가 완료되면 **웹 앱 URL**이 표시됩니다
2. 이 URL을 복사합니다 (매우 중요!)
   - 형식: `https://script.google.com/macros/s/XXXXXXXXXXXX/exec`
3. 나중에 사용하기 위해 메모장에 저장해 둡니다

### 6단계: 테스트 (선택사항)

1. Apps Script 편집기에서 함수 드롭다운 메뉴를 클릭합니다
2. **testReservation** 함수를 선택합니다
3. **실행** 버튼(▶︎)을 클릭합니다
4. Google Sheets로 돌아가서 "예약목록" 시트를 확인합니다
5. 테스트 데이터가 추가되었으면 정상 작동하는 것입니다

---

## 웹사이트 파일 설정

### 1단계: script.js 파일 수정

1. 텍스트 편집기(메모장, VS Code 등)로 `script.js` 파일을 엽니다
2. 파일 상단의 `APPS_SCRIPT_URL` 변수를 찾습니다:
   ```javascript
   const APPS_SCRIPT_URL = 'YOUR_APPS_SCRIPT_URL_HERE';
   ```
3. `YOUR_APPS_SCRIPT_URL_HERE` 부분을 앞에서 복사한 웹 앱 URL로 교체합니다:
   ```javascript
   const APPS_SCRIPT_URL = 'https://script.google.com/macros/s/XXXXXXXXXXXX/exec';
   ```
4. 파일을 저장합니다 (`Ctrl + S`)

### 2단계: 카페 정보 수정 (선택사항)

`index.html` 파일을 열어 카페 정보를 수정할 수 있습니다:

#### 카페 이름 변경
```html
<h1>현주카페</h1>
```
원하는 카페 이름으로 변경하세요.

#### 위치 정보 변경
```html
<p>본사 1층 라운지</p>
```
실제 카페 위치로 변경하세요.

#### 운영시간 변경
```html
<p>평일: 오전 9시 - 오후 6시</p>
```
실제 운영시간으로 변경하세요.

#### 제공 서비스 변경
```html
<li>커피 (아메리카노, 라떼, 카푸치노)</li>
```
실제 제공하는 메뉴로 변경하세요.

#### 연락처 변경
```html
<p>문의: cafe@company.com | 내선: 1234</p>
```
실제 연락처로 변경하세요.

### 3단계: 카페 사진 교체 (선택사항)

현재는 플레이스홀더 이미지를 사용하고 있습니다. 실제 카페 사진으로 교체하려면:

1. 카페 사진 3장을 준비합니다 (권장 크기: 800x600 픽셀)
2. 사진 파일을 프로젝트 폴더에 저장합니다 (예: `cafe1.jpg`, `cafe2.jpg`, `cafe3.jpg`)
3. `index.html` 파일에서 이미지 경로를 수정합니다:

```html
<!-- 수정 전 -->
<img src="https://via.placeholder.com/400x300/FF6B6B/FFFFFF?text=카페+전경" alt="카페 전경">

<!-- 수정 후 -->
<img src="cafe1.jpg" alt="카페 전경">
```

---

## 웹사이트 배포

웹사이트를 인터넷에 공개하는 방법은 여러 가지가 있습니다. 여기서는 가장 쉬운 두 가지 방법을 소개합니다.

### 방법 1: GitHub Pages (무료, 추천)

#### 1단계: GitHub 계정 만들기
1. [GitHub](https://github.com)에 접속합니다
2. **Sign up** 버튼을 클릭하여 계정을 만듭니다

#### 2단계: 저장소 만들기
1. GitHub에 로그인한 상태에서 우측 상단의 **+** 버튼을 클릭합니다
2. **New repository**를 선택합니다
3. Repository name에 "hyunju-cafe" (또는 원하는 이름)를 입력합니다
4. **Public**을 선택합니다
5. **Create repository** 버튼을 클릭합니다

#### 3단계: 파일 업로드
1. 새로 만든 저장소 페이지에서 **uploading an existing file**을 클릭합니다
2. 다음 파일들을 드래그하여 업로드합니다:
   - `index.html`
   - `styles.css`
   - `script.js`
   - (카페 사진 파일들)
3. 하단의 **Commit changes** 버튼을 클릭합니다

#### 4단계: GitHub Pages 활성화
1. 저장소 페이지 상단의 **Settings** 탭을 클릭합니다
2. 왼쪽 메뉴에서 **Pages**를 클릭합니다
3. **Source** 섹션에서:
   - Branch: **main** 선택
   - Folder: **/ (root)** 선택
4. **Save** 버튼을 클릭합니다
5. 몇 분 후 페이지 상단에 웹사이트 URL이 표시됩니다
   - 형식: `https://[username].github.io/hyunju-cafe/`

### 방법 2: Netlify (무료, 쉬움)

#### 1단계: Netlify 계정 만들기
1. [Netlify](https://www.netlify.com)에 접속합니다
2. **Sign up** 버튼을 클릭하여 계정을 만듭니다

#### 2단계: 사이트 배포
1. Netlify 대시보드에서 **Add new site > Deploy manually**를 클릭합니다
2. 프로젝트 폴더를 드래그하여 업로드합니다
   - `index.html`, `styles.css`, `script.js` 파일이 포함된 폴더
3. 업로드가 완료되면 자동으로 웹사이트가 배포됩니다
4. 제공된 URL로 접속하여 확인합니다
   - 형식: `https://random-name-123456.netlify.app`

#### 3단계: 사이트 이름 변경 (선택사항)
1. 사이트 대시보드에서 **Site settings**를 클릭합니다
2. **Change site name** 버튼을 클릭합니다
3. 원하는 이름을 입력합니다 (예: `hyunju-cafe`)
4. 새 URL: `https://hyunju-cafe.netlify.app`

### 방법 3: 사내 서버 사용

회사에서 웹 서버를 제공하는 경우:

1. IT 담당자에게 웹사이트 파일 배포를 요청합니다
2. 다음 파일들을 제공합니다:
   - `index.html`
   - `styles.css`
   - `script.js`
   - (카페 사진 파일들)
3. IT 담당자가 제공하는 URL로 접속합니다

---

## 사용 방법

### 직원용: 예약하기

1. 웹사이트에 접속합니다
2. 아래로 스크롤하여 "예약하기" 섹션으로 이동합니다
3. 예약 정보를 입력합니다:
   - 이름, 부서, 이메일, 연락처
   - 예약 날짜 (주말은 선택 불가)
   - 예약 시간
   - 인원
   - 요청사항 (선택사항)
4. **예약하기** 버튼을 클릭합니다
5. 예약 완료 메시지가 표시됩니다
6. 이메일로 예약 확인 메일을 받습니다

### 관리자용: 예약 확인

1. [Google Sheets](https://sheets.google.com)에 접속합니다
2. "현주카페 예약목록" 스프레드시트를 엽니다
3. "예약목록" 시트에서 모든 예약 정보를 확인할 수 있습니다:
   - 예약번호
   - 예약일시
   - 예약자 정보
   - 예약 날짜/시간
   - 인원
   - 요청사항
   - 상태

### 관리자용: 예약 취소

1. Google Sheets에서 취소할 예약의 **예약번호**를 복사합니다
2. Apps Script 편집기를 엽니다 (확장 프로그램 > Apps Script)
3. 함수 드롭다운에서 **cancelReservation**을 선택합니다
4. 코드에서 다음 부분을 찾습니다:
   ```javascript
   function cancelReservation(reservationNumber) {
   ```
5. 함수 호출 방법:
   - 스크립트 편집기 하단의 **실행 로그** 영역에서 다음을 입력합니다:
   ```javascript
   cancelReservation('20241230-001');  // 예약번호 입력
   ```
6. **실행** 버튼을 클릭합니다
7. Google Sheets에서 해당 예약의 상태가 "취소됨"으로 변경됩니다

---

## 문제 해결

### 문제 1: 예약 버튼을 눌러도 반응이 없습니다

**원인:** `script.js` 파일에 Apps Script URL이 설정되지 않았거나 잘못되었습니다.

**해결 방법:**
1. `script.js` 파일을 엽니다
2. `APPS_SCRIPT_URL` 변수가 올바르게 설정되었는지 확인합니다
3. URL이 `https://script.google.com/macros/s/`로 시작하는지 확인합니다
4. 파일을 저장하고 웹사이트를 새로고침합니다

### 문제 2: Google Sheets에 데이터가 저장되지 않습니다

**원인 1:** Apps Script 배포 시 권한 설정이 잘못되었습니다.

**해결 방법:**
1. Apps Script 편집기를 엽니다
2. **배포 > 배포 관리**를 클릭합니다
3. 활성 배포를 선택하고 **수정**을 클릭합니다
4. **액세스 권한**이 "모든 사용자"로 설정되어 있는지 확인합니다
5. **배포 업데이트** 버튼을 클릭합니다

**원인 2:** 시트 이름이 일치하지 않습니다.

**해결 방법:**
1. Google Sheets에서 시트 이름을 확인합니다
2. Apps Script 편집기에서 `SHEET_NAME` 변수가 동일한 이름인지 확인합니다
3. 수정 후 다시 배포합니다

### 문제 3: 이메일이 발송되지 않습니다

**원인:** Gmail 일일 전송 제한에 도달했거나 이메일 권한이 없습니다.

**해결 방법:**
1. Apps Script 편집기에서 **실행 로그**를 확인합니다
2. 오류 메시지를 확인합니다
3. Gmail 일일 제한 확인:
   - 일반 계정: 하루 100통
   - Google Workspace 계정: 하루 1,500통
4. 제한에 도달한 경우 다음 날까지 기다립니다

### 문제 4: 웹사이트가 모바일에서 제대로 보이지 않습니다

**원인:** 브라우저 캐시 문제입니다.

**해결 방법:**
1. 모바일 브라우저에서 페이지를 새로고침합니다
2. 브라우저 캐시를 삭제합니다
3. 다시 접속합니다

### 문제 5: "Google에서 확인하지 않은 앱" 경고가 나타납니다

**설명:** 이것은 정상입니다. 개인 프로젝트는 Google 인증을 받지 않았기 때문입니다.

**해결 방법:**
1. **고급** 버튼을 클릭합니다
2. **(프로젝트 이름)으로 이동** 링크를 클릭합니다
3. **허용** 버튼을 클릭합니다
4. 사내에서만 사용하는 앱이므로 안전합니다

---

## 추가 커스터마이징

### 색상 변경

`styles.css` 파일에서 색상을 변경할 수 있습니다:

```css
/* 메인 그라데이션 색상 */
background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);

/* 원하는 색상으로 변경 */
background: linear-gradient(135deg, #FF6B6B 0%, #4ECDC4 100%);
```

### 예약 시간 변경

`index.html` 파일에서 예약 가능한 시간을 수정할 수 있습니다:

```html
<select id="time" name="time" required>
    <option value="">시간 선택</option>
    <option value="09:00">09:00</option>
    <option value="09:30">09:30</option>
    <!-- 시간 추가/삭제 -->
</select>
```

### 최대 예약 인원 변경

`index.html` 파일에서 인원 옵션을 수정할 수 있습니다:

```html
<select id="people" name="people" required>
    <option value="">인원 선택</option>
    <option value="1">1명</option>
    <!-- 원하는 인원 추가 -->
    <option value="10">10명</option>
</select>
```

---

## 유지보수

### 정기 점검 사항

1. **매주:** Google Sheets에서 예약 현황 확인
2. **매월:** 오래된 예약 데이터 아카이브 (별도 시트로 이동)
3. **분기별:** Apps Script 실행 로그 확인

### 데이터 백업

1. Google Sheets 파일을 정기적으로 다운로드합니다
2. **파일 > 다운로드 > Microsoft Excel (.xlsx)**를 선택합니다
3. 백업 파일을 안전한 곳에 보관합니다

---

## 지원 및 문의

문제가 계속 발생하거나 추가 도움이 필요한 경우:

1. IT 담당자에게 문의하세요
2. 이 문서의 "문제 해결" 섹션을 다시 확인하세요
3. Google Apps Script 공식 문서를 참조하세요: https://developers.google.com/apps-script

---

## 요약 체크리스트

배포 전 확인사항:

- [ ] Google Sheets 생성 및 시트 이름 설정
- [ ] Apps Script 코드 복사 및 저장
- [ ] Apps Script 웹 앱으로 배포
- [ ] 웹 앱 URL 복사
- [ ] script.js 파일에 URL 입력
- [ ] index.html에서 카페 정보 수정 (선택사항)
- [ ] 웹사이트 배포 (GitHub Pages, Netlify, 또는 사내 서버)
- [ ] 테스트 예약 진행
- [ ] Google Sheets에 데이터 저장 확인
- [ ] 이메일 발송 확인 (선택사항)

모든 항목이 체크되면 예약 시스템이 정상 작동합니다!

---

**축하합니다! 현주카페 예약 시스템 구축이 완료되었습니다.**
